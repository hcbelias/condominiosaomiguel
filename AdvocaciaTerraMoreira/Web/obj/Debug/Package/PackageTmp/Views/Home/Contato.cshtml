@using Web.UtilWeb
@model Web.Models.Contact
@{
    bool isModelValid = (ViewBag.ModelValid == null) || (ViewBag.ModelValid == true);
}
<script type="text/javascript">

    $(document).ready(function () {


        $("#sendMessageForm").submit(function () {

            var queryString = $("#sendMessageForm").serialize() + '&';
            $.post(
                'Email/SendEmail',
                queryString,
                function (data) {
                    $("#content").html(data.Data);
                    debugger;
                    if (data.Success) {
                        $('.alert-danger').hide();
                        $('.alert-success').show();
                    } else {
                        $('.alert-success').hide();
                        $('.alert-danger').show();
                    }
                }
            );

            return false;
        });
    });


</script>
<div class="row featurette">
    <div class="col-md-12">
        <fieldset>

            <legend class="featurette-heading">Contato</legend>
            <div id="message-error" style="display: none;" class="alert alert-danger">
                @Html.ValidationSummary()
            </div>
            <br />
            <div id="message-success" style="display: none;" class="alert alert-success">
                Mensagem enviada com sucesso
            </div>
            @using (Ajax.BeginForm("SendEmail", "Contact", new AjaxOptions() { InsertionMode = InsertionMode.Replace, UpdateTargetId = "sendMessage", HttpMethod = "Post" }, new { @id = "sendMessageForm", @class = "form-horizontal" }))
            {
                
                <div class="form-group">
                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(model => model.Email, new { maxlength = 200, @class = "form-control input-lg", id = "inputEmail" })

                    </div>
                </div>
                <div class="form-group">
                    <label for="inputName" class="col-sm-2 control-label">Nome</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(model => model.Name, new { maxlength = 100, @class = "form-control input-lg ", id = "inputName" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPhone" class="col-sm-2 control-label">Telefone</label>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.Phone, new { maxlength = 16, @class = "input-sm form-control", id = "inputPhone" })
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="inputMessage" class="col-sm-2 control-label">Message</label>
                    <div class="col-sm-10">
                        @Html.TextAreaFor(model => model.Message, 5, 10, new { @class = "input-lg form-control", id = "inputMessage" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button id="sendButton" class="btn btn-default btn-red" type="submit" title="Enviar">
                            <i class="icon-envelope icon-white"></i>Enviar</button>
                    </div>
                </div>
            }

        </fieldset>
    </div>
</div>
