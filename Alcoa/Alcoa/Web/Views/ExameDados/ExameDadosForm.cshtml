@using WebControllers
@model Model.ExameDadosModel
@{
    Boolean v_IsNewModel = Model == null || Model.Id == 0;
    String method = v_IsNewModel ? "Create" : "Edit";
}
@using (Html.BeginForm(method, "ExameDados", FormMethod.Post, new { id = "saveFormId", @class = "form-horizontal" }))
{
    @Html.Partial("CustomSummary")
    @Html.Partial("ViewBagMessage")
    <fieldset>
        <h1>
            ExameDados
        </h1>
        <div class="row-fluid">
            <div class="span6">
                <legend>Dados</legend>
                @Html.HiddenFor(model => model.Id)
                <div class="control-group">
                    <label class="control-label">
                        @Html.LabelFor(model => model.Valor)</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.Valor)
                        <br />
                        @Html.ValidationMessageFor(model => model.Valor)
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">
                        @Html.LabelFor(model => model.Descricao)</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.Descricao)
                        <br />
                        @Html.ValidationMessageFor(model => model.Descricao)
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">
                        @Html.LabelFor(model => model.DataExame)</label>
                    <div class="controls">
                       @Html.EditorFor(model => model.DataExame)
                        <br />
                        @Html.ValidationMessageFor(model => model.DataExame)
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">
                        @Html.LabelFor(model => model.Paciente)</label>
                    <div class="controls">
                        @Html.Partial("PacienteComboBox", WebControllers.PacienteController.GetComboBox(Model != null && Model.Paciente != null ? Model.Paciente.Id : 0))
                        <br />
                        @Html.ValidationMessageFor(model => model.Paciente)
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">
                        @Html.LabelFor(model => model.TipoExame)</label>
                    <div class="controls">
                        @Html.Partial("TipoExameComboBox", WebControllers.TipoExameController.GetComboBox(Model != null && Model.TipoExame != null ? Model.TipoExame.Id : 0))
                        <br />
                        @Html.ValidationMessageFor(model => model.Paciente)
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
}
@using (Html.BeginForm("Index", "ExameDados", FormMethod.Get, new { id = "cancelFormId" }))
{ }
@if (!v_IsNewModel)
{
    using (Html.BeginForm("Delete", "ExameDados", new { p_Identifier = Model.Id }, FormMethod.Get, new { id = "deleteFormId" }))
    { @Html.Hidden("p_Identifier", Model.Id) }
}
